(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mall-contract-index"],{"09eb":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".wrapper[data-v-28b6931c]{width:100%;height:100%;overflow:hidden;display:flex;align-content:center;flex-direction:column;justify-content:center;font-size:%?28?%}.handWriting[data-v-28b6931c]{background:#fff;width:100%;height:%?600?%}.handRight[data-v-28b6931c]{align-items:center}.handCenter[data-v-28b6931c]{border:1px solid #eee;opacity:1;border-radius:8px;flex:5;overflow:hidden;box-sizing:border-box;width:100%;margin:0 auto}.handTitle[data-v-28b6931c]{flex:1;color:#666;justify-content:center;font-size:%?30?%}.handBtn[data-v-28b6931c]{flex-direction:column;padding:%?40?% %?20?%}.buttons[data-v-28b6931c]{width:100%;margin-top:%?20?%;justify-content:space-between}.buttons>uni-button[data-v-28b6931c]{font-size:%?30?%;height:%?80?%;width:%?120?%}.delBtn[data-v-28b6931c]{color:#666}.color[data-v-28b6931c]{align-items:center}.color>uni-text[data-v-28b6931c]{margin-right:%?20?%}.subBtn[data-v-28b6931c]{background:#008ef6;color:#fff;text-align:center;justify-content:center}.black-select[data-v-28b6931c]{width:%?60?%;height:%?60?%}.black-select.color_select[data-v-28b6931c]{width:%?90?%;height:%?90?%}.red-select[data-v-28b6931c]{width:%?60?%;height:%?60?%}.red-select.color_select[data-v-28b6931c]{width:%?90?%;height:%?90?%}.slide-wrapper[data-v-28b6931c]{align-items:center;margin-bottom:%?20?%}.slider[data-v-28b6931c]{width:%?400?%;padding-left:%?20?%}.drop[data-v-28b6931c]{width:%?50?%;height:%?50?%;border-radius:50%;background:#fff;position:absolute;left:%?0?%;top:%?-10?%;box-shadow:0 1px 5px #888}.slide[data-v-28b6931c]{width:%?250?%;height:%?30?%}.showimg[data-v-28b6931c]{border:%?4?% solid #e9e9e9;overflow:hidden;width:90%;margin:0 auto;background:#eee;height:%?350?%;margin-top:%?40?%;align-items:center;justify-content:center}.showimg>uni-image[data-v-28b6931c]{width:100%;height:100%}.showimg>uni-text[data-v-28b6931c]{font-size:%?40?%;color:#888}",""]),t.exports=e},"25de":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var n={signature:i("8c73").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"page-root box"},[i("v-uni-view",{staticClass:"contractText"},[t._v(t._s(t.contract))]),i("v-uni-view",{staticClass:"signature-box"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.signatureSrc,expression:"signatureSrc"}],staticClass:"signature-img"},[i("v-uni-image",{staticClass:"img",attrs:{src:t.signatureSrc,mode:"widthFix"}})],1),i("signature",{directives:[{name:"show",rawName:"v-show",value:!t.signatureSrc,expression:"!signatureSrc"}],ref:"signature",on:{"img-up-data":function(e){arguments[0]=e=t.$handleEvent(e),t.imgUpData.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"footer"},[i("v-uni-view",{staticClass:"foota box flexj"},[i("v-uni-view",{staticClass:"footaL",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[t._v("重置")]),i("v-uni-view",{staticClass:"footaR",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.save.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)},r=[]},"337e":function(t,e,i){"use strict";i.r(e);var n=i("25de"),a=i("d817");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("d0e9");var o,s=i("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"74738f8f",null,!1,n["a"],o);e["default"]=u.exports},"3d8a":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"wrapper"},[i("v-uni-view",{staticClass:"handCenter"},[i("v-uni-canvas",{staticClass:"handWriting",attrs:{"canvas-id":t.canvasId,"disable-scroll":"true"},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadScaleStart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadScaleMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadScaleEnd.apply(void 0,arguments)}}})],1)],1)},r=[]},4774:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("f823")),r={data:function(){return{lineColor:"black",slideValue:50,handwriting:"",selectColor:"black",color:"",showimg:"",share_popup:!1}},props:{canvasId:{type:String,default:"canvasId-1"}},mounted:function(){this.handwriting=new a.default({lineColor:this.lineColor,slideValue:this.slideValue,canvasName:this.canvasId})},methods:{selectColorEvent:function(t){this.selectColor=t,"black"==t?this.color="#1A1A1A":"red"==t&&(this.color="#ca262a"),this.handwriting.selectColorEvent(this.color)},retDraw:function(){this.handwriting.retDraw()},updateValue:function(t){console.log(t.detail),this.slideValue=t.detail.value,this.handwriting.selectSlideValue(this.slideValue)},uploadScaleStart:function(t){this.handwriting.uploadScaleStart(t)},uploadScaleMove:function(t){this.handwriting.uploadScaleMove(t)},uploadScaleEnd:function(t){this.handwriting.uploadScaleEnd(t)},subCanvas:function(){var t=this;this.handwriting.saveCanvas().then((function(e){t.showimg=e,t.$emit("img-up-data",e)})).catch((function(t){console.log(t)}))}}};e.default=r},"588a":function(t,e,i){var n=i("09eb");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("7a558386",n,!0,{sourceMap:!1,shadowMode:!1})},"653a":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".page-root[data-v-74738f8f]{padding-bottom:%?124?%}.footer[data-v-74738f8f]{padding:%?20?% 0;border-top:%?1?% solid #f5f5f5;background-color:#fff;position:fixed;left:0;bottom:0;width:100%}.footaL>uni-view[data-v-74738f8f]{margin-right:%?20?%}.footaL uni-view uni-view[data-v-74738f8f]{text-align:center;color:#666;font-size:%?26?%}.footaL[data-v-74738f8f]{width:30%;background-color:#fff;color:#666;text-align:center;font-size:%?28?%;padding:%?20?% 0;border-radius:%?50?%;border:%?1?% solid #ccc}.footaR[data-v-74738f8f]{width:30%;background-color:#038578;color:#fff;text-align:center;font-size:%?28?%;padding:%?20?% 0;border-radius:%?50?%}.signature-box[data-v-74738f8f]{margin:%?30?% 0}.signature-img[data-v-74738f8f]{border:1px solid #eee}.signature-img uni-image[data-v-74738f8f]{width:100%;height:%?150?%}",""]),t.exports=e},7400:function(t,e,i){"use strict";i("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.getLogin=r,e.sendRegisterCode=o,e.register=s,e.updateMemberData=u,e.getMemberInfo=c,e.upAvatar=d,e.shiming=l,e.memberPwdChange=h,e.sendForgotCode=f,e.loginSetp=g,e.logOut=v,e.getIndexData=p,e.getEqptList=m,e.getComplaintData=b,e.getAbout=x,e.getGoodDetail=y,e.getGoodIndex=w,e.getGoodSite=S,e.getGoodRepairType=C,e.getCreateShare=P,e.getAboutContract=k,e.orderAutograph=A,e.signatureCheck=_,e.orderBuy=q,e.payMoney=M,e.getOrderlist=F,e.getOrderZulist=L,e.buyOrderList=I,e.confirmPickup=T,e.getMemberAddressedit=z,e.getDeleteaddress=D,e.getAddress=E,e.getAddressDetail=O,e.getMydeposit=V,e.loginByPwd=$,e.getBaseInfo=j;var n=i("d858");function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";return new Promise((function(a,r){uni.request({url:n.server_url+t,data:e,method:i,success:function(t){a(t.data)},fail:function(t){r(t)}})}))}function r(t){return a("/web/login/login",t,"get")}function o(t){return a("/web/login/send",t,"get")}function s(t){return a("/web/login/verify",t,"post")}function u(t){return(0,n.request)({url:"/web/member/update",method:"get",data:t})}function c(t){return(0,n.request)({url:"/web/member/index",method:"get",data:t})}function d(t){return(0,n.request)({url:"/web/member/save_img",method:"get",data:t})}function l(t){return(0,n.request)({url:"/web/member/shiming",method:"post",data:t})}function h(t){return(0,n.request)({url:"/web/member/change",method:"post",data:t})}function f(t){return a("/web/login/forgot",t,"post")}function g(t){return a("/web/login/setp",t,"get")}function v(t){return(0,n.request)({url:"/web/login/logout",method:"get",data:t})}function p(t){return(0,n.request)({url:"/web/index/index",method:"get",data:t})}function m(t){return(0,n.request)({url:"/web/member/list",method:"get",data:t})}function b(t){return(0,n.request)({url:"/web/about/create",method:"post",data:t})}function x(t){return(0,n.request)({url:"/web/about/about",method:"get",data:t})}function y(t,e){return(0,n.request)({url:"/web/good/detail/"+e,method:"get",data:t})}function w(t){return(0,n.request)({url:"/web/good/index",method:"get",data:t})}function S(t){return(0,n.request)({url:"/web/good/site",method:"get",data:t})}function C(t){return(0,n.request)({url:"/web/good/repairType",method:"get",data:t})}function P(t){return(0,n.request)({url:"/web/member/create_share",method:"get",data:t})}function k(t){return(0,n.request)({url:"/web/about/contract",method:"get",data:t})}function A(t){return(0,n.request)({url:"/web/order/autograph",method:"post",data:t})}function _(t){return(0,n.request)({url:"/web/order/autograph_check",method:"post",data:t})}function q(t){return(0,n.request)({url:"/web/order/buy",method:"post",data:t})}function M(t){return(0,n.request)({url:"/web/pay/apppay",method:"get",data:t})}function F(t){return(0,n.request)({url:"/web/order/orderlist",method:"get",data:t})}function L(t){return(0,n.request)({url:"/web/order/zulist",method:"get",data:t})}function I(t){return(0,n.request)({url:"/web/order/orderlist",method:"get",data:t})}function T(t){return(0,n.request)({url:"/weg/order/confirmReceivingGoods",method:"post",data:t})}function z(t){return(0,n.request)({url:"/web/member/addressedit",method:"get",data:t})}function D(t){return(0,n.request)({url:"/web/member/deleteaddress",method:"get",data:t})}function E(t){return(0,n.request)({url:"/web/member/getaddress",method:"get",data:t})}function O(t){return(0,n.request)({url:"/web/member/getaddressdetail",method:"get",data:t})}function V(t){return(0,n.request)({url:"/web/member/mydeposit",method:"get",data:t})}function $(t){return(0,n.request)({url:"/mobile/account/loginByPwd",method:"post",data:t})}function j(t){return(0,n.request)({url:"/mobile/user/getBaseInfo",method:"get",data:t})}},"8c73":function(t,e,i){"use strict";i.r(e);var n=i("3d8a"),a=i("999b");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("ce42");var o,s=i("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"28b6931c",null,!1,n["a"],o);e["default"]=u.exports},"999b":function(t,e,i){"use strict";i.r(e);var n=i("4774"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},ba36:function(t,e,i){"use strict";i("d3b7"),i("ac1f");var n=i("d858");function a(t){return new Promise((function(e,i){uni.showLoading({title:"正在上传中"}),uni.uploadFile({header:{Authorization:uni.getStorageSync("token")},name:"file",method:"GET",url:n.server_url+"/web/upload/upImg",filePath:t,success:function(t){e(JSON.parse(t.data))},fail:function(t){i(t)},complete:function(){uni.hideLoading()}})}))}function r(t,e){return new Promise((function(t,e){uni.chooseImage({crop:{width:300,height:196},count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(e){var i=e.tempFilePaths[0];a(i).then((function(e){t(e)}))},fail:function(t){e(t)}})}))}function o(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60;return new Promise((function(n,a){var r,o=null;r=setInterval((function(){uni.createSelectorQuery().in(t).select(e).boundingClientRect((function(t){o!==t&&(clearInterval(r),n(t))})).exec()}),i)}))}t.exports={chooseImg:r,getViewInfo:o,uploadFilePromise:a}},bca1:function(t,e,i){var n=i("653a");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("1ac61056",n,!0,{sourceMap:!1,shadowMode:!1})},cb29:function(t,e,i){var n=i("23e7"),a=i("81d5"),r=i("44d2");n({target:"Array",proto:!0},{fill:a}),r("fill")},ce42:function(t,e,i){"use strict";var n=i("588a"),a=i.n(n);a.a},d0e9:function(t,e,i){"use strict";var n=i("bca1"),a=i.n(n);a.a},d817:function(t,e,i){"use strict";i.r(e);var n=i("dcc2"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},dcc2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("ba36"),a=i("7400"),r={data:function(){return{canvasId:"canvasId-1",contract:"",signatureSrc:"",http_thr_src:"",id:"",attrInfoID:"",orderType:0,chooseId:0,order_no:""}},onLoad:function(t){console.log(this.$pageQuery(t));var e=this.$pageQuery(t),i=e.id,n=e.chooseId,a=e.order_no;this.id=i,this.chooseId=n,this.order_no=a,this.aboutContract(i)},methods:{upSignatureImg:function(){var t=this;uni.canvasToTempFilePath({canvasId:t.canvasId,success:function(e){var i=e.tempFilePath;(0,n.uploadFilePromise)(i).then((function(e){console.log("uploadFilePromise",e),t.http_thr_src=e.data.thr_src,t.getOrderAutograph()}))}})},aboutContract:function(){var t=this,e=this.id;(0,a.getAboutContract)({id:e}).then((function(e){0===e.code&&(t.contract=e.contract.contract)}))},getOrderAutograph:function(){var t=this,e=this.order_no,i=this.http_thr_src,n=this.id,r=this.orderType,o=this.chooseId;(0,a.orderAutograph)({order_no:e,img:i}).then((function(i){console.log(i),0===i.code&&t.$openPage("postOrder",{id:n,orderType:r,chooseId:o,order_no:e,isSubmitOrder:1},{type:2})}))},imgUpData:function(t){this.signatureSrc=t},clear:function(){this.$refs.signature.retDraw()},save:function(){this.$refs.signature.subCanvas(),this.upSignatureImg()}}};e.default=r},f823:function(t,e,i){"use strict";var n=i("4ea4");i("cb29"),i("d3b7"),i("acd8"),i("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("d4ec")),r=n(i("bee2")),o=n(i("ade3")),s=function(){function t(e){(0,a.default)(this,t),(0,o.default)(this,"ctx",""),(0,o.default)(this,"canvasWidth",300),(0,o.default)(this,"canvasHeight",900),(0,o.default)(this,"linePrack",[]),(0,o.default)(this,"currentLine",[]),(0,o.default)(this,"transparent",1),(0,o.default)(this,"pressure",.5),(0,o.default)(this,"smoothness",100),(0,o.default)(this,"lineSize",1.5),(0,o.default)(this,"lineMin",.5),(0,o.default)(this,"lineMax",2),(0,o.default)(this,"currentPoint",{}),(0,o.default)(this,"firstTouch",!0),(0,o.default)(this,"radius",1),(0,o.default)(this,"cutArea",{top:0,right:0,bottom:0,left:0}),(0,o.default)(this,"lastPoint",0),(0,o.default)(this,"chirography",[]),(0,o.default)(this,"startY",0),(0,o.default)(this,"deltaY",0),(0,o.default)(this,"startValue",0),this.lineColor=e.lineColor||"#1A1A1A",this.slideValue=e.slideValue||50,this.canvasName=e.canvasName||"handWriting",this.init()}return(0,r.default)(t,[{key:"init",value:function(){var t=this;this.ctx=uni.createCanvasContext(this.canvasName);var e=uni.createSelectorQuery();e.select(".handCenter").boundingClientRect((function(e){t.canvasWidth=e.width,t.canvasHeight=e.height})).exec(),this.selectSlideValue(this.slideValue)}},{key:"uploadScaleStart",value:function(t){console.log("start");var e=t.mp;if("touchstart"!=e.type)return!1;this.ctx.setFillStyle(this.lineColor),this.ctx.setGlobalAlpha(this.transparent),this.currentPoint={x:e.touches[0].x,y:e.touches[0].y},this.currentLine.unshift({time:(new Date).getTime(),dis:0,x:this.currentPoint.x,y:this.currentPoint.y}),this.firstTouch&&(this.cutArea={top:this.currentPoint.y,right:this.currentPoint.x,bottom:this.currentPoint.y,left:this.currentPoint.x},this.firstTouch=!1),this.pointToLine(this.currentLine)}},{key:"uploadScaleMove",value:function(t){var e=t.mp;if("touchmove"!=e.type)return!1;e.cancelable&&(e.defaultPrevented||e.preventDefault());var i={x:e.touches[0].x,y:e.touches[0].y};i.y<this.cutArea.top&&(this.cutArea.top=i.y),i.y<0&&(this.cutArea.top=0),i.x>this.cutArea.right&&(this.cutArea.right=i.x),this.canvasWidth-i.x<=0&&(this.cutArea.right=this.canvasWidth),i.y>this.cutArea.bottom&&(this.cutArea.bottom=i.y),this.canvasHeight-i.y<=0&&(this.cutArea.bottom=this.canvasHeight),i.x<this.cutArea.left&&(this.cutArea.left=i.x),i.x<0&&(this.cutArea.left=0),this.lastPoint=this.currentPoint,this.currentPoint=i,this.currentLine.unshift({time:(new Date).getTime(),dis:this.distance(this.currentPoint,this.lastPoint,"move"),x:i.x,y:i.y}),this.pointToLine(this.currentLine)}},{key:"uploadScaleEnd",value:function(t){var e=t.mp;if("touchend"!=e.type)return 0;console.log(e);var i={x:e.changedTouches[0].x,y:e.changedTouches[0].y};if(this.lastPoint=this.currentPoint,this.currentPoint=i,this.currentLine.unshift({time:(new Date).getTime(),dis:this.distance(this.currentPoint,this.lastPoint,"end"),x:i.x,y:i.y}),this.currentLine.length>2)this.currentLine[0].time,this.currentLine[this.currentLine.length-1].time,this.currentLine.length;this.pointToLine(this.currentLine);var n={lineSize:this.lineSize,lineColor:this.lineColor};this.chirography.unshift(n),this.linePrack.unshift(this.currentLine),this.currentLine=[]}},{key:"retDraw",value:function(){this.ctx.clearRect(0,0,700,730),this.ctx.draw()}},{key:"pointToLine",value:function(t){this.calcBethelLine(t)}},{key:"calcBethelLine",value:function(t){if(t.length<=1)t[0].r=this.radius;else{var e,i,n,a,r,o,s,u,c,d,l=0,h=0,f=.5;t.length<=2?(e=t[1].x,a=t[1].y,n=t[1].x+(t[0].x-t[1].x)*f,o=t[1].y+(t[0].y-t[1].y)*f,i=e+(n-e)*f,r=a+(o-a)*f):(e=t[2].x+(t[1].x-t[2].x)*f,a=t[2].y+(t[1].y-t[2].y)*f,i=t[1].x,r=t[1].y,n=i+(t[0].x-i)*f,o=r+(t[0].y-r)*f),c=this.distance({x:n,y:o},{x:e,y:a},"calc"),d=this.radius;for(var g=0;g<t.length-1;g++)if(l+=t[g].dis,h+=t[g].time-t[g+1].time,l>this.smoothness)break;this.radius=Math.min(h/c*this.pressure+this.lineMin,this.lineMax)*this.lineSize,t[0].r=this.radius,t.length<=2?(s=(d+this.radius)/2,u=s,u):(s=(t[2].r+t[1].r)/2,u=t[1].r,(t[1].r+t[0].r)/2);for(var v=5,p=[],m=0;m<v;m++){var b=m/(v-1),x=(1-b)*(1-b)*e+2*b*(1-b)*i+b*b*n,y=(1-b)*(1-b)*a+2*b*(1-b)*r+b*b*o,w=d+(this.radius-d)/v*m;if(p.push({x:x,y:y,r:w}),3==p.length){var S=this.ctaCalc(p[0].x,p[0].y,p[0].r,p[1].x,p[1].y,p[1].r,p[2].x,p[2].y,p[2].r);S[0].color=this.lineColor,this.bethelDraw(S,1),p=[{x:x,y:y,r:w}]}}}}},{key:"distance",value:function(t,e,i){var n=e.x-t.x,a=e.y-t.y;return 5*Math.sqrt(n*n+a*a)}},{key:"ctaCalc",value:function(t,e,i,n,a,r,o,s,u){var c,d,l,h,f,g,v,p,m,b=[];c=n-t,d=a-e,l=2*Math.sqrt(c*c+d*d+1e-4),c=c/l*i,d=d/l*i,h=d,f=-c,g=n-o,v=a-s,l=2*Math.sqrt(g*g+v*v+1e-4),g=g/l*u,v=v/l*u,p=-v,m=g,b.push({mx:t+h,my:e+f,color:"#1A1A1A"}),b.push({c1x:n+h,c1y:a+f,c2x:n+p,c2y:a+m,ex:o+p,ey:s+m}),b.push({c1x:o+p-g,c1y:s+m-v,c2x:o-p-g,c2y:s-m-v,ex:o-p,ey:s-m}),b.push({c1x:n-p,c1y:a-m,c2x:n-h,c2y:a-f,ex:t-h,ey:e-f}),b.push({c1x:t-h-c,c1y:e-f-d,c2x:t+h-c,c2y:e+f-d,ex:t+h,ey:e+f}),b[0].mx=b[0].mx.toFixed(1),b[0].mx=parseFloat(b[0].mx),b[0].my=b[0].my.toFixed(1),b[0].my=parseFloat(b[0].my);for(var x=1;x<b.length;x++)b[x].c1x=b[x].c1x.toFixed(1),b[x].c1x=parseFloat(b[x].c1x),b[x].c1y=b[x].c1y.toFixed(1),b[x].c1y=parseFloat(b[x].c1y),b[x].c2x=b[x].c2x.toFixed(1),b[x].c2x=parseFloat(b[x].c2x),b[x].c2y=b[x].c2y.toFixed(1),b[x].c2y=parseFloat(b[x].c2y),b[x].ex=b[x].ex.toFixed(1),b[x].ex=parseFloat(b[x].ex),b[x].ey=b[x].ey.toFixed(1),b[x].ey=parseFloat(b[x].ey);return b}},{key:"bethelDraw",value:function(t,e,i){this.ctx.beginPath(),this.ctx.moveTo(t[0].mx,t[0].my),void 0!=i?(this.ctx.setFillStyle(i),this.ctx.setStrokeStyle(i)):(this.ctx.setFillStyle(t[0].color),this.ctx.setStrokeStyle(t[0].color));for(var n=1;n<t.length;n++)this.ctx.bezierCurveTo(t[n].c1x,t[n].c1y,t[n].c2x,t[n].c2y,t[n].ex,t[n].ey);this.ctx.stroke(),void 0!=e&&this.ctx.fill(),this.ctx.draw(!0)}},{key:"selectColorEvent",value:function(t){this.lineColor=t}},{key:"selectSlideValue",value:function(t){switch(t){case 0:this.lineSize=.1,this.lineMin=.1,this.lineMax=.1;break;case 25:this.lineSize=1,this.lineMin=.5,this.lineMax=2;break;case 50:this.lineSize=1.5,this.lineMin=1,this.lineMax=3;break;case 75:this.lineSize=1.5,this.lineMin=2,this.lineMax=3.5;break;case 100:this.lineSize=3,this.lineMin=2,this.lineMax=3.5;break}}},{key:"saveCanvas",value:function(){var t=this;return new Promise((function(e,i){uni.canvasToTempFilePath({canvasId:t.canvasName,success:function(t){console.log("saveCanvas",t),e(t.tempFilePath)},fail:function(t){console.log("图片生成失败："+t),i(t)}})}))}}]),t}(),u=s;e.default=u}}]);